<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>
<body>
<form action="/home/save-contacts" method="POST">
    <label for="firstName">Prénom :</label>
    <input type="text" id="firstName" name="firstName" required>

    <label for="lastName">Nom :</label>
    <input type="text" id="lastName" name="lastName" required>

    <label for="email">Email :</label>
    <input type="email" id="email" name="email" required>

    <label for="phoneNumber">Numéro de téléphone :</label>
    <input type="tel" id="phoneNumber" name="phoneNumber" required>
    <input type="hidden" id="userId" name="userId" th:value="${user.id}">

    <button type="submit">Enregistrer</button>
</form>

<h1>List des contacts</h1>
<a th:href="@{/logout}">Se déconnecter</a>


<p th:text="${user.getFirstName()} + ' ' + ${user.getLastName()}"></p>
<p th:text="${user.getEmail()}"></p>
<p th:text="${user}"></p>


<div th:each="contact : ${contacts}">
    <p th:text="${contact.getFirstName()} + ' ' + ${contact.getLastName()}"></p>
    <p th:text="${contact.getEmail()}"></p>
    <p th:text="${contact.getPhoneNumber()}"></p><br>
<!--    <form th:action="@{/home/{id}(id=${contact.getId()})}" method="post">-->
<!--        <button type="submit">Supprimer</button>-->
<!--    </form>-->


<!--    <a th:href="@{/home/{id}(id=${contact.getId()})}" class="btn btn-danger" th:data-method="delete">Delete</a>-->
    <a th:href="@{/delete-contact(id=${contact.getId()})}" class="btn btn-info">Supprimer</a>

</div>






</body>
</html>